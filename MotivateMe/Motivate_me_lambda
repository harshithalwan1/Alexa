/* eslint-disable  func-names */
/* eslint quote-props: ["error", "consistent"]*/
/**
 * This sample demonstrates a simple skill built with the Amazon Alexa Skills
 * nodejs skill development kit.
 * This sample supports multiple lauguages. (en-US, en-GB, de-DE).
 * The Intent Schema, Custom Slots and Sample Utterances for this skill, as well
 * as testing instructions are located at https://github.com/alexa/skill-sample-nodejs-fact
 **/

'use strict';
const Alexa = require('alexa-sdk');

//=========================================================================================================================================
//TODO: The items below this comment need your attention.
//=========================================================================================================================================

//Replace with your app ID (OPTIONAL).  You can find this value at the top of your skill's page on http://developer.amazon.com.
//Make sure to enclose your value in quotes, like this: const APP_ID = 'amzn1.ask.skill.bb4045e6-b3e8-4133-b650-72923c5980f1';
const APP_ID = undefined;

const SKILL_NAME = 'Motivate Me';
const GET_FACT_MESSAGE = "Here's something to cheer you up: ";
const HELP_MESSAGE = 'You can say motivate me, or, you can say exit... What can I help you with?';
const HELP_REPROMPT = 'What can I help you with?';
const STOP_MESSAGE = 'Goodbye!';

//=========================================================================================================================================
//TODO: Replace this data with your own.  You can find translations of this data at http://github.com/alexa/skill-sample-node-js-fact/data
//=========================================================================================================================================
const data = [
    'Care about what other people think, and you will always be their prisoner.',
    'Entrepreneurship is neither a science nor an art. It is a practice.',
    'Fall seven times and stand up eight.',
    'There are no traffic jams along the extra mile.',
    'When I’m old and dying, I plan to look back on my life and say, ‘Wow, that was an adventure,’ not ‘Wow, I sure felt safe.',
    'Always bear in mind that your own resolution to succeed is more important than any other one thing.',
    'Opportunity is missed by most people because it is dressed in overalls and looks like work.',
    'Running a startup is like eating glass. You just start to like the taste of your own blood.',
    'I never dreamt of success. I worked for it.',
    'Every great dream begins with a dreamer. Always remember, you have within you the strength, the patience, and the passion to reach for the stars to change the world.',
    'The most common way people give up their power is by thinking they don’t have any.',
    'To live a creative life, we must lose our fear of being wrong.',
    'If you do what you always did, you will get what you always got.',
];

//=========================================================================================================================================
//Editing anything below this line might break your skill.
//=========================================================================================================================================
// Launching the skill 
const handlers = {
    'LaunchRequest': function () {
        this.emit('GetNewFactIntent');
    },
    
//Only user defined intent of the skill
    'GetNewFactIntent': function () {
        const factArr = data;
        const factIndex = Math.floor(Math.random() * factArr.length);
        const randomFact = factArr[factIndex];
        const speechOutput = GET_FACT_MESSAGE + randomFact;

        this.response.cardRenderer(SKILL_NAME, randomFact);
        this.response.speak(speechOutput);
        this.emit(':responseReady');
    },
    'AMAZON.HelpIntent': function () {
        const speechOutput = HELP_MESSAGE;
        const reprompt = HELP_REPROMPT;

        this.response.speak(speechOutput).listen(reprompt);
        this.emit(':responseReady');
    },
    'AMAZON.CancelIntent': function () {
        this.response.speak(STOP_MESSAGE);
        this.emit(':responseReady');
    },
    'AMAZON.StopIntent': function () {
        this.response.speak(STOP_MESSAGE);
        this.emit(':responseReady');
    },
};

exports.handler = function (event, context, callback) {
    const alexa = Alexa.handler(event, context, callback);
    alexa.APP_ID = APP_ID;
    alexa.registerHandlers(handlers);
    alexa.execute();
};
